# 数学规划

数学规划是运用数学方法对决策问题进行建模与求解的过程。它通过构建目标函数和约束条件，优化决策变量以达到最佳结果。以下是几种常见的数学规划方法及其说明。

<!-- toc -->

## 1. 线性规划 (Linear Programming)

线性规划是求解线性目标函数在一定线性约束条件下的最优解的方法。广泛应用于资源分配、生产调度等领域。

- **基本模型：**
  
  最大化（或最小化）目标函数：
  $$
  \text{Maximize (or Minimize)} \quad Z = c^T x
  $$
  
  subject to约束条件：
  $$
  Ax \leq b
  $$
  $$
  x \geq 0
  $$

## 2. 整数规划 (Integer Programming)

整数规划是线性规划的一个特例，要求决策变量为整数。此方法适合于某些必须为离散值的问题，如项目选择和设备配置等。

- **基本模型：**
  
  最大化（或最小化）目标函数：
  $$
  \text{Maximize (or Minimize)} \quad Z = c^T x
  $$
  
  subject to约束条件：
  $$
  Ax \leq b
  $$
  $$
  x \in \mathbb{Z}
  $$

## 3. 非线性规划 (Nonlinear Programming)

非线性规划用于目标函数或约束条件中存在非线性关系的问题。此方法可以求解更复杂的优化问题。

- **基本模型：**
  
  最大化（或最小化）目标函数：
  $$
  \text{Maximize (or Minimize)} \quad Z = f(x_1, x_2, \ldots, x_n)
  $$
  
  subject to约束条件：
  $$
  g_j(x) \leq 0 \quad (j = 1, 2, \ldots, m)
  $$
  $$
  h_k(x) = 0 \quad (k = 1, 2, \ldots, p)
  $$

## 4. 动态规划 (Dynamic Programming)

动态规划用于解决具有阶段性和递归性的问题，通过将大问题分解为小问题，形成一种自底向上的优化解决策略。

- **基本思想：**
  
  设阶段决策变量为 $x_n$，则状态转移可表述为：
  $$
  V(n) = \min (V(n-1) + c_n(x_n))
  $$

## 5. 目标规划 (Goal Programming)

目标规划用于处理多个目标函数的问题，通过将多个目标转化为满足的条件，求解最优解。常用于多目标决策。

- **基本模型：**
  
  最小化偏差函数：
  $$
  \text{Minimize} \quad d_i^+ + d_i^-
  $$
  
  subject to：
  $$
  f_j(x) = g_j, \quad j = 1, 2, \ldots, m
  $$

## 6. 随机规划 (Stochastic Programming)

随机规划用于处理决策过程中存在不确定性的情况。通过引入随机变量，形成决策模型。

- **基本模型：**
  
  最大化目标函数：
  $$
  \text{Maximize} \quad \mathbb{E}[Z(x)] = \int Z(x, \xi) f(\xi) d\xi
  $$
  
  subject to约束条件：
  $$
  g_j(x, \xi) \leq 0 \quad (j = 1, 2, \ldots, m)
  $$

## 7. 线性分段规划 (Piecewise Linear Programming)

线性分段规划用于表示目标函数是分段线性函数情况下的优化问题。通常用于与非线性函数的近似处理。

- **基本模型：**
  
  目标函数：
  $$
  \text{Minimize} \quad Z = \sum_{i} c_i x_i
  $$
  
  subject to：
  $$
  A x \leq b
  $$

## 8. 多目标规划 (Multi-objective Programming)

多目标规划处理多个相互冲突的目标函数问题，通过目标函数的加权、优先级等手段寻找方案。

- **基本模型：**
  
  最小化多个目标函数：
  $$
  \text{Minimize} \quad Z_1 = f_1(x), \quad Z_2 = f_2(x), \ldots, Z_k = f_k(x)
  $$
  
  subject to：
  $$
  g_j(x) \leq 0
  $$

## 9. 网络流优化 (Network Flow Optimization)

网络流优化用于解决在网络图中流动量优化的问题，常见于交通流、物流等领域。

- **基本模型：**
  
  最大流问题中的目标函数：
  $$
  \text{Maximize} \quad \sum_{(u,v) \in E} f_{uv}
  $$

  subject to流量守恒：
  $$
  \sum_{v \in N(u)} f_{uv} - \sum_{v \in N'(u)} f_{vu} = 0
  $$

## 10. 约束规划 (Constraint Programming)

约束规划通过满足一组约束条件来优化决策结果，适用于组合优化问题，如调度和分配问题。

- **基本模型：**
  
  最小化或最大化目标函数：
  $$
  \text{Minimize (or Maximize)} \quad Z = f(x)
  $$
  
  subject to约束条件：
  $$
  g_j(x) \leq 0 \quad (j = 1, 2, \ldots, m)
  $$

以上是一些常见的数学规划方法，每种方法适用于不同类型的优化问题。通过选择合适的方法，可以有效地找到最佳决策。

## 附录蒙特卡洛模拟

蒲丰投针实验

蒙特卡罗又称统计模拟法，是一种随机模拟方法，以概率和统计理论为基础的一种计算方法，是使用随机数来解决很多计算问题的方法..将所求解的问题同一定的概率模型相联系，用计算机实现统计模拟或抽样，以获得问题的近似解.为象征性地表明这一方法的概率统计特征，故借用赌城蒙特卡罗命名.

将上述的 MATLAB 蒙特卡洛模拟代码完整并准确地转换为 Python 代码，我们可以使用 Matplotlib 库进行绘图，同时依然利用 NumPy 来生成随机数.以下是转换后的 Python 代码：

MATLAB 代码如下：
```matlab
%% 蒙特卡洛模拟
clear;clc
a = 10;
L = 5;
n = 10000; %抛掷次数
% 随机抛针，得到的角度
ph = rand(n,1) * pi;
x = rand(n,1) * a/2;
m = 0; % 相交次数
y = (L/2) * sin(ph); % 恰好相交的边界情况
axis([0, pi, 0, a/2]); % 设置坐标轴
box on; % 让图hold住不要动
for i = 1 : n
    if(x(i) <= y(i))
        m = m + 1;
        plot(ph(i), x(i), 'b.');
        hold on;
    end
end
P = m/n;
mypi = 2*L/(P*a)
```


上述 MATLAB 代码对应的 Python 代码：

```python
import numpy as np  
import matplotlib.pyplot as plt  
  
# 设置参数  
a = 10  
L = 5  
n = 100000  # 抛掷次数  
  
# 随机抛针，得到的角度和x坐标  
ph = np.random.rand(n) * np.pi  
x = np.random.rand(n) * (a / 2)  
  
m = 0  # 相交次数  
y = (L / 2) * np.sin(ph)  # 恰好相交的边界情况  
  
# 设置坐标轴  
plt.axis([0, np.pi, 0, a / 2])  
plt.box(True)  # 在 Python 中无直接对应，但可以保持边框  
  
# 蒙特卡洛模拟  
for i in range(n):  
    if x[i] <= y[i]:  
        m += 1  
        plt.plot(ph[i], x[i], 'b.')  
  
# 计算概率和估计的π值  
P = m / n  
mypi = 2 * L / (P * a)  
  
# 输出估计的π值  
print("估计的 π 值为:", mypi)  
  
# 显示绘图  
plt.xlabel('Degrees (rad)')  
plt.ylabel('x coordinate (m)')  
plt.title('Monte Carlo Simulation')  
plt.show()
```

说明
1. **库导入**：代码使用 `numpy` 进行数值计算，使用 `matplotlib.pyplot` 进行绘图.
2. **参数设置**：与 MATLAB 一致设置 `a`, `L`, `n`.
3. **随机数据生成**：使用 `np.random.rand(n)` 生成随机数，后乘以相应的数值来实现 MATLAB 中的类似功能.
4. **相交次数计算**：对于每一次抛针，使用 `if` 条件语句来检查针是否相交，并相应增加计数.
5. **绘图**：使用 `plt.plot` 绘制相交点，并保持整个图渲染（`hold on` 在 Python 中不是必须的，Matplotlib 会自动处理多次调用）.
6. **计算并输出结果**：使用公式计算概率并估计 π 值，最后将其打印出来.

输出结果如下所示：

```
估计的 π 值为: 3.121975586150916
```










